<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>게시글 상세 - Pitwall</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <!-- 헤더 (header.js로 관리) -->
    <div id="header-placeholder"></div>
    <script src="header.js"></script>

    <main class="post-detail-container">
      <!-- 게시글 본문 -->
      <article class="post-view">
        <div class="post-header">
          <h1 id="post-title">제목을 불러오는 중...</h1>
          <div class="post-meta-info">
            <span id="post-author">작성자</span> |
            <span id="post-date">날짜</span> | 조회
            <span id="post-views">0</span>
          </div>
        </div>

        <!-- ▼▼▼ 이미지 표시 영역 (이미지가 있을 때만 보임) ▼▼▼ -->
        <div id="post-image-box" style="margin: 20px 0; display: none;">
            <img id="post-image" src="" alt="첨부 이미지" style="max-width: 100%; border-radius: 10px;">
        </div>
        <!-- ▲▲▲ -->

        <div class="post-body" id="post-content">
          내용을 불러오는 중입니다...
        </div>
        
        <div class="post-actions" style="display: flex; justify-content: space-between; align-items: center; margin-top: 30px; border-top: 1px solid #333; padding-top: 20px;">
          <!-- 좋아요 버튼 -->
          <button id="like-btn" class="btn-like">
            👍 좋아요 <span id="like-count">0</span>
          </button>

          <!-- ▼▼▼ 수정/삭제 버튼 그룹 (작성자/관리자에게만 보임) ▼▼▼ -->
          <div id="owner-btns" style="display: none;">
              <button onclick="goToEdit()" class="btn" style="background: #444; margin-right: 5px; padding: 8px 15px; font-size: 0.9rem;">✏️ 수정</button>
              <button onclick="deletePost()" class="btn btn-danger" style="background-color: #ff4d4d; color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer; font-size: 0.9rem;">
                🗑️ 삭제
              </button>
          </div>
          <!-- ▲▲▲ -->
        </div>
      </article>

      <!-- 댓글 섹션 -->
      <section class="comment-section">
        <h3>댓글</h3>
        <ul id="comment-list">
          <!-- 댓글이 여기에 동적으로 추가됩니다 -->
        </ul>

        <!-- 댓글 작성 폼 -->
        <form id="comment-form">
          <textarea
            id="comment-input"
            placeholder="댓글을 입력하세요..."
            required
          ></textarea>
          <button type="submit" class="btn btn-accent">등록</button>
        </form>
      </section>

      <div style="margin-top: 20px; text-align: center;">
        <a href="board.html" class="btn" style="background-color: #333;">목록으로 돌아가기</a>
      </div>
    </main>

    <!-- 스크립트 연결 -->
    <script src="script.js"></script>
  </body>
</html>